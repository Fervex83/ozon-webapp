# Ozon Label Check Web

–ú–∏–Ω–∏‚Äë–≤–µ–± –¥–ª—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤: –≤—Å—Ç–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É Ozon –∏ –ø–æ–ª—É—á–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ –º–µ—Ç–∫–µ `sim-–∫–∞—Ä—Ç–∞ –≤ üéÅ` –≤ –±–ª–æ–∫–µ `webMarketingLabels`.

## –ó–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ

```bash
pip install -r webapp/requirements.txt
python webapp/app.py
```

–û—Ç–∫—Ä–æ–π—Ç–µ `http://localhost:8000`.

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

- `OZON_HEADLESS=1` ‚Äî headless —Ä–µ–∂–∏–º (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤—ã–∫–ª—é—á–µ–Ω). –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `1` –¥–ª—è headless, `0` –¥–ª—è –≤–∏–¥–∏–º–æ–≥–æ Chrome.
- `OZON_PAGE_TIMEOUT=90` ‚Äî —Ç–∞–π–º–∞—É—Ç –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã.
- `OZON_GET_RETRIES=3` ‚Äî —á–∏—Å–ª–æ –ø–æ–≤—Ç–æ—Ä–æ–≤ –ø—Ä–∏ –æ—à–∏–±–∫–µ –∑–∞–≥—Ä—É–∑–∫–∏.
- `OZON_LABEL_WAIT=10` ‚Äî —Å–∫–æ–ª—å–∫–æ –∂–¥–∞—Ç—å –ø–æ—è–≤–ª–µ–Ω–∏—è `webMarketingLabels`.
- `OZON_USER_DATA_DIR=ozon_profile_web` ‚Äî –ø—Ä–æ—Ñ–∏–ª—å Chrome –¥–ª—è –≤–µ–±‚Äë—Å–µ—Ä–≤–∏—Å–∞.
- `OZON_CHROMEDRIVER_LOG=chromedriver.log` ‚Äî –ª–æ–≥ chromedriver.
- `OZON_WEB_HOST=0.0.0.0` ‚Äî —Ö–æ—Å—Ç Flask.
- `OZON_WEB_PORT=8000` ‚Äî –ø–æ—Ä—Ç Flask.
- `OZON_JOB_HISTORY_FILE=webapp/job_history.jsonl` ‚Äî —Ñ–∞–π–ª –∏—Å—Ç–æ—Ä–∏–∏ –∑–∞–¥–∞—á.
- `OZON_MAX_JOBS=50` ‚Äî –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ —á–∏—Å–ª–æ –∑–∞–¥–∞—á –≤ –ø–∞–º—è—Ç–∏.
- `OZON_JOB_TTL_SEC=21600` ‚Äî —Å–∫–æ–ª—å–∫–æ —Ö—Ä–∞–Ω–∏—Ç—å –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ (—Å–µ–∫).

## –î–µ–ø–ª–æ–π (–ø—Ä–æ—Å—Ç–æ–π)

```bash
pip install -r webapp/requirements.txt
python webapp/app.py
```

–î–ª—è –ø—Ä–æ–¥‚Äë—Ä–µ–∂–∏–º–∞ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∑–∞–ø—É—Å–∫–∞—Ç—å –ø–æ–¥ gunicorn –∏–ª–∏ —á–µ—Ä–µ–∑ systemd, –∏ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ Chrome —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.

## –û—á–µ—Ä–µ–¥—å –∑–∞–¥–∞—á

–ü–∞–∫–µ—Ç–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –æ–±—â—É—é –æ—á–µ—Ä–µ–¥—å —Å –æ–¥–Ω–∏–º –≤–æ—Ä–∫–µ—Ä–æ–º. –≠—Ç–æ –∏—Å–∫–ª—é—á–∞–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç Chrome‚Äë–ø—Ä–æ—Ñ–∏–ª–µ–π –∏ –¥–µ–ª–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫—É –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–π.

## CSV —ç–∫—Å–ø–æ—Ä—Ç

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø–∞–∫–µ—Ç–∞ –º–æ–∂–Ω–æ —Å–∫–∞—á–∞—Ç—å CSV –ø–æ –∞–¥—Ä–µ—Å—É `/jobs/<job_id>/csv`. –§–∞–π–ª –≤–∫–ª—é—á–∞–µ—Ç `seller_name`.
